<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>YOLO Runner</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    label { display: block; margin: 0.5rem 0; }
    input[type="text"], input[type="number"] { width: 80%; padding: 0.4rem; }
    .checkbox-group { margin: 1rem 0; }
    button { padding: 0.6rem 1.2rem; font-size: 1rem; }
    .message { font-weight: bold; margin-bottom: 1rem; }
  </style>
</head>
<body>
  <h1>Run YOLO on a Video</h1>
  {% if message %}
    <div class="message">{{ message }}</div>
  {% endif %}
  <form method="post">
   <label>Source video path:
     <input type="text" name="source" value="{{ defaults.source }}">
   </label>
   <label>Weights path:
     <input type="text" name="weights" value="{{ defaults.weights }}">
   </label>
    <label>Start seconds:
      <input type="number" step="0.1" name="start_seconds" value="{{ defaults.start_seconds }}">
    </label>
    <label>End seconds:
      <input type="number" step="0.1" name="end_seconds" value="{{ defaults.end_seconds }}" placeholder="Leave empty for full video">
    </label>
    <label>Stride (process every Nth frame):
      <input type="number" name="stride" min="1" value="{{ defaults.stride }}">
    </label>
    <div class="checkbox-group">
      <label><input type="checkbox" name="tracker" {% if defaults.tracker %}checked{% endif %}> Enable ByteTrack tracking</label>
      <label><input type="checkbox" name="display" {% if defaults.display %}checked{% endif %}> Show OpenCV window (requires display)</label>
      <label><input type="checkbox" name="log_enabled" {% if defaults.log_enabled %}checked{% endif %}> Log detections to Parquet</label>
    </div>
    <label>Parquet path or directory (optional):
      <input type="text" name="log_path" value="{{ defaults.log_path }}" placeholder="Leave blank for timestamped file">
    </label>
    <label>Progress interval (frames):
     <input type="number" name="progress_interval" min="0" value="{{ defaults.progress_interval }}">
   </label>
   <button type="submit">Run</button>
 </form>
</body>
</html>
